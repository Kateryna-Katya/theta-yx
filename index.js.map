{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. SETUP ICONS & SCROLL ---\n  lucide.createIcons();\n\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // Register GSAP ScrollTrigger\n  gsap.registerPlugin(ScrollTrigger);\n\n\n  // --- 2. MOBILE MENU LOGIC ---\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const links = document.querySelectorAll('.header__link');\n\n  function toggleMenu() {\n      nav.classList.toggle('is-active');\n      document.body.style.overflow = nav.classList.contains('is-active') ? 'hidden' : '';\n  }\n\n  burger.addEventListener('click', toggleMenu);\n\n  // Закрываем меню при клике на ссылку\n  links.forEach(link => {\n      link.addEventListener('click', () => {\n          if(nav.classList.contains('is-active')) {\n              toggleMenu();\n          }\n      });\n  });\n\n\n  // --- 3. ANIMATIONS (GSAP) ---\n\n  // Hero Text Reveal\n  const heroTl = gsap.timeline();\n  heroTl.from('.hero__label', { y: 20, opacity: 0, duration: 0.8, delay: 0.2 })\n        .from('.hero__title', { y: 50, opacity: 0, duration: 1, ease: \"power3.out\" }, \"-=0.4\")\n        .to('.hero__subtitle', { opacity: 1, duration: 1 }, \"-=0.6\")\n        .from('.hero__actions', { scale: 0.9, opacity: 0, duration: 0.5 }, \"-=0.4\");\n\n  // Scroll Animations for Sections\n  const sections = document.querySelectorAll('section:not(.hero)');\n  sections.forEach(section => {\n      gsap.from(section.children, {\n          scrollTrigger: {\n              trigger: section,\n              start: \"top 80%\",\n              toggleActions: \"play none none reverse\"\n          },\n          y: 50,\n          opacity: 0,\n          duration: 0.8,\n          stagger: 0.1\n      });\n  });\n\n\n  // --- 4. FORM LOGIC ---\n\n  const form = document.getElementById('leadForm');\n  const phoneInput = document.getElementById('phoneInput');\n  const captchaQ = document.getElementById('captchaQuestion');\n  const captchaInput = document.getElementById('captchaInput');\n  const msgBox = document.getElementById('formMessage');\n\n  // Phone Validation (Only digits allowed visually)\n  phoneInput.addEventListener('input', (e) => {\n      e.target.value = e.target.value.replace(/[^0-9+\\s-]/g, '');\n  });\n\n  // Math Captcha Generation\n  let num1 = Math.floor(Math.random() * 10);\n  let num2 = Math.floor(Math.random() * 10);\n  captchaQ.textContent = `${num1} + ${num2} = ?`;\n\n  // Form Submit\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      msgBox.style.display = 'none';\n      msgBox.className = 'form-message';\n\n      // 1. Check Captcha\n      if(parseInt(captchaInput.value) !== (num1 + num2)) {\n          msgBox.textContent = \"Ошибка: Неверный ответ на пример.\";\n          msgBox.classList.add('error');\n          msgBox.style.display = 'block';\n          return;\n      }\n\n      // 2. Simulate AJAX\n      const btn = form.querySelector('button');\n      const originalText = btn.textContent;\n      btn.textContent = \"Отправка...\";\n      btn.disabled = true;\n\n      setTimeout(() => {\n          // Success\n          btn.textContent = originalText;\n          btn.disabled = false;\n          form.reset();\n\n          // Re-generate captcha\n          num1 = Math.floor(Math.random() * 10);\n          num2 = Math.floor(Math.random() * 10);\n          captchaQ.textContent = `${num1} + ${num2} = ?`;\n\n          msgBox.textContent = \"Спасибо! Данные успешно отправлены. Мы свяжемся с вами.\";\n          msgBox.classList.add('success');\n          msgBox.style.display = 'block';\n\n          // Save to localStorage (simulate cookie/tracker)\n          localStorage.setItem('lead_sent', 'true');\n      }, 1500);\n  });\n\n  // --- 5. COOKIE POPUP (Simple implementation) ---\n  if (!localStorage.getItem('cookiesAccepted')) {\n      const cookieDiv = document.createElement('div');\n      cookieDiv.style.cssText = \"position: fixed; bottom: 20px; right: 20px; background: #141A29; border: 1px solid rgba(255,255,255,0.1); padding: 20px; max-width: 300px; z-index: 999; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);\";\n      cookieDiv.innerHTML = `\n          <p style=\"font-size: 13px; color: #94A3B8; margin-bottom: 12px;\">Этот сайт использует cookies для улучшения работы.</p>\n          <button id=\"acceptCookies\" style=\"background: #6366F1; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 12px;\">Принять</button>\n      `;\n      document.body.appendChild(cookieDiv);\n\n      document.getElementById('acceptCookies').addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookieDiv.remove();\n      });\n  }\n});"],"names":["lenis","t","raf","time","burger","nav","links","toggleMenu","link","section","form","phoneInput","captchaQ","captchaInput","msgBox","num1","num2","btn","originalText","cookieDiv"],"mappings":"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"}